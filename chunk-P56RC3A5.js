import{a as zt,b as et,c as _t,d as Wt,e as Yt,f as it,g as Gt,h as nt,i as S,j as Jt,l as ut,m as ie,n as pt,o as ht}from"./chunk-23NTSYVS.js";import{A as Lt,B as jt,Bb as ee,F as Zt,Fa as g,Ga as Kt,H as Vt,J as tt,K as T,La as B,M as $,Na as Qt,Q as ot,U as m,W as Xt,a as Q,cb as rt,d as Ut,ea as N,fa as st,ga as qt,lb as at,ob as te,qb as ct,rb as U,tb as L}from"./chunk-FEYVFRDP.js";import{a as E}from"./chunk-RR4QGK55.js";import{$a as Ot,A as gt,Ac as K,B as vt,Ba as Ct,Ca as x,D as b,Db as Rt,Ea as p,Eb as kt,F as P,Fb as At,Ib as J,Ic as Nt,J as yt,La as Tt,Lb as X,Mb as q,Ob as Et,P as _,Pa as R,Pb as St,Qc as Bt,R as F,Sa as Mt,Va as k,aa as W,cb as Pt,d as mt,db as G,ea as Dt,ec as h,fc as A,g as V,ga as Ht,h as z,ha as w,hc as $t,ia as Y,ja as bt,ka as Ft,o as y,ob as D,pa as I,pb as wt,t as l,tb as C,ub as It,va as s,vb as f,xb as xt}from"./chunk-2XEAWUUP.js";import{a as dt,b as ft}from"./chunk-T527G4PA.js";function he({currentTarget:i,relatedTarget:t}){return!ot(t)||!ot(i)||!i.contains(t)}var v=(()=>{let t=class t extends mt{constructor(){super(e=>this.stream$.subscribe(e)),this.el=m(),this.zone=s(k),this.stream$=b(g(this.el,"mouseenter").pipe(l(qt)),g(this.el,"mouseleave").pipe(l(st)),g(this.el,"mouseout").pipe(P(he),l(st))).pipe(F(),B(this.zone))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac});let i=t;return i})();var Ee=(()=>{let t=class t{constructor(){this.tuiHoveredChange=s(v)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=p({type:t,selectors:[["","tuiHoveredChange",""]],outputs:{tuiHoveredChange:"tuiHoveredChange"},standalone:!0,features:[h([v])]});let i=t;return i})();function le(i,t){i&1&&J(0)}var de=["*"];function fe(i,t){if(i&1&&At(0,"span",1),i&2){let H=t.polymorpheusOutlet;f("innerHTML",H,Ot)}}var me=i=>({$implicit:i});function ge(i,t){i&1&&J(0)}function ve(i,t){if(i&1&&(Rt(0,"div",1),C(1,ge,1,0,"ng-container",2),kt()),i&2){let H=t.$implicit;f("@tuiParentAnimation",void 0)("tuiActiveZoneParent",H.activeZone||null),G(),f("polymorpheusOutlet",H.component)("polymorpheusOutletContext",$t(4,me,H))}}var ye=jt(()=>Te),se=(()=>{let t=class t extends z{constructor(){super([])}add(e){this.next(this.value.concat(e))}remove(e){this.value.includes(e)&&this.next(this.value.filter(n=>n!==e))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),De=(()=>{let t=class t extends Jt{constructor(){super(...arguments),this.type="hint"}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=R(t)))(o||t)}})(),t.\u0275dir=p({type:t,standalone:!0,features:[D]});let i=t;return i})(),ne=["bottom-left","bottom","bottom-right","top-left","top","top-right","left-top","left","left-bottom","right-top","right","right-bottom"],He={direction:"bottom-left",showDelay:500,hideDelay:200,appearance:"",icon:"@tui.circle-help"},M=Lt(He);var li=(()=>{let t=class t{constructor(){this.options=s(M,{skipSelf:!0}),this.direction=this.options.direction,this.appearance=this.options.appearance,this.showDelay=this.options.showDelay,this.hideDelay=this.options.hideDelay,this.icon=this.options.icon,this.change$=new V}ngOnChanges(){this.change$.next()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=p({type:t,selectors:[["","tuiHintContent",""]],inputs:{content:[0,"tuiHintContent","content"],direction:[0,"tuiHintDirection","direction"],appearance:[0,"tuiHintAppearance","appearance"],showDelay:[0,"tuiHintShowDelay","showDelay"],hideDelay:[0,"tuiHintHideDelay","hideDelay"]},standalone:!0,features:[h([Vt(M,t)]),Tt]});let i=t;return i})(),lt=(()=>{let t=class t extends nt{constructor(){super(e=>this.stream$.subscribe(e)),this.el=m(),this.hovered$=s(v),this.options=s(M),this.visible=!1,this.toggle$=new V,this.stream$=b(this.toggle$.pipe(w(e=>y(e).pipe(_(e?0:this.tuiHintHideDelay))),Y(this.hovered$),W()),this.hovered$.pipe(w(e=>y(e).pipe(_(e?this.tuiHintShowDelay:this.tuiHintHideDelay))),Y(this.toggle$),W())).pipe(P(()=>this.enabled),l(e=>e&&(this.el.hasAttribute("tuiHintPointer")||!at(this.el))),Ft(e=>{this.visible=e})),this.parent=s(t,{optional:!0,skipSelf:!0}),this.tuiHintShowDelay=this.options.showDelay,this.tuiHintHideDelay=this.options.hideDelay,this.type="hint",this.enabled=!0}toggle(e=!this.visible){this.toggle$.next(e),this.parent?.toggle(e)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=p({type:t,inputs:{tuiHintShowDelay:"tuiHintShowDelay",tuiHintHideDelay:"tuiHintHideDelay"},exportAs:["tuiHintHover"],standalone:!0,features:[h([S(t),v]),D]});let i=t;return i})(),d=8,j=22,r=0,a=1,re=(()=>{let t=class t extends zt{constructor(){super(...arguments),this.viewport=s(rt),this.accessor=_t("hint")(s(et),s(ae)),this.points=ne.reduce((e,n)=>ft(dt({},e),{[n]:[0,0]}),{}),this.direction=s(M).direction,this.type="hint"}getPosition({width:e,height:n}){let o=this.accessor.getClientRect()??N,u=o.left+o.width/2,c=o.top+o.height/2;if(this.points["top-left"][r]=o.top-n-d,this.points["top-left"][a]=u-e+j,this.points.top[r]=this.points["top-left"][r],this.points.top[a]=u-e/2,this.points["top-right"][r]=this.points["top-left"][r],this.points["top-right"][a]=u-j,this.points["bottom-left"][r]=o.bottom+d,this.points["bottom-left"][a]=this.points["top-left"][a],this.points.bottom[r]=this.points["bottom-left"][r],this.points.bottom[a]=this.points.top[a],this.points["bottom-right"][r]=this.points["bottom-left"][r],this.points["bottom-right"][a]=this.points["top-right"][a],this.points["left-top"][r]=c-n+j,this.points["left-top"][a]=o.left-e-d,this.points.left[r]=c-n/2,this.points.left[a]=this.points["left-top"][a],this.points["left-bottom"][r]=c-j,this.points["left-bottom"][a]=this.points["left-top"][a],this.points["right-top"][r]=this.points["left-top"][r],this.points["right-top"][a]=o.right+d,this.points.right[r]=this.points.left[r],this.points.right[a]=this.points["right-top"][a],this.points["right-bottom"][r]=this.points["left-bottom"][r],this.points["right-bottom"][a]=this.points["right-top"][a],this.checkPosition(this.points[this.direction],e,n))return this.points[this.direction];let Z=ne.find(O=>this.checkPosition(this.points[O],e,n));return this.points[Z||this.fallback]}get fallback(){return this.points.top[r]>this.viewport.getClientRect().bottom-this.points.bottom[r]?"top":"bottom"}checkPosition([e,n],o,u){let c=this.viewport.getClientRect();return e>d/4&&n>d/4&&e+u<c.bottom-d/4&&n+o<c.right-d/4}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=R(t)))(o||t)}})(),t.\u0275dir=p({type:t,inputs:{direction:[0,"tuiHintDirection","direction"]},standalone:!0,features:[D]});let i=t;return i})(),ae=(()=>{let t=class t{constructor(){this.service=s(se),this.appearance=s(M).appearance,this.component=s(U),this.el=m(),this.activeZone=s(pt,{optional:!0}),this.type="hint"}set tuiHint(e){this.content=e,e||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(e){e&&this.content?this.service.add(this):this.service.remove(this)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=p({type:t,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{context:[0,"tuiHintContext","context"],appearance:[0,"tuiHintAppearance","appearance"],tuiHint:"tuiHint"},standalone:!0,features:[h([it(t),Gt(t),{provide:U,deps:[ye,Ct],useClass:U}]),wt([De,{directive:lt,inputs:["tuiHintHideDelay","tuiHintHideDelay","tuiHintShowDelay","tuiHintShowDelay"]},{directive:re,inputs:["tuiHintDirection","tuiHintDirection"]}])]});let i=t;return i})(),be=(()=>{let t=class t extends lt{constructor(){super(...arguments),this.currentRect=N}getClientRect(){return this.currentRect}onMove({clientX:e,clientY:n}){this.currentRect=Xt(e,n)}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=R(t)))(o||t)}})(),t.\u0275dir=p({type:t,selectors:[["","tuiHint","","tuiHintPointer",""]],hostBindings:function(n,o){n&1&&q("mousemove.silent",function(c){return o.onMove(c)})},standalone:!0,features:[h([it(t),S(t)]),D]});let i=t;return i})(),Fe=(()=>{let t=class t{constructor(){this.context=s(ct)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=x({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(n,o){n&2&&X("@tuiParentAnimation",void 0)},standalone:!0,features:[A],decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(n,o){n&1&&C(0,le,1,0,"ng-container",0),n&2&&f("polymorpheusOutlet",o.context.$implicit.content)},dependencies:[L],encapsulation:2,data:{animation:[Q]},changeDetection:0});let i=t;return i})();var oe=4,Ce=[ut,v,Wt("hint",re),Yt("hint",ae)],Te=(()=>{let t=class t{constructor(){this.el=m(),this.hover=s(lt),this.vvs=s(ie),this.viewport=s(rt),this.options=te(s(Qt)),this.pointer=s(be,{optional:!0}),this.accessor=s(et),this.hint=s(ct).$implicit,this.appearance=this.hint.appearance||this.hint.el.closest("[tuiTheme]")?.getAttribute("tuiTheme"),s(ut).pipe(bt(()=>this.hint.el.isConnected),l(e=>this.vvs.correct(e)),E()).subscribe({next:([e,n])=>this.update(e,n),complete:()=>this.hover.toggle(!1)}),s(v).pipe(E()).subscribe(e=>this.hover.toggle(e))}get content(){return this.hint.component.component===Fe?"":this.hint.content}onClick(e){(!e.closest("tui-hint")&&!this.hint.el.contains(e)||at(this.hint.el))&&this.hover.toggle(!1)}apply(e,n,o,u){this.el.style.top=e,this.el.style.left=n,this.el.style.setProperty("--top",o),this.el.style.setProperty("--left",u)}update(e,n){let{height:o,width:u}=this.el.getBoundingClientRect(),c=this.accessor.getClientRect(),Z=this.viewport.getClientRect();if(c===N||!o||!u)return;let O=$(n,oe,Z.width-u-oe),[ce,ue]=this.vvs.correct([c.top+c.height/2-e,c.left+c.width/2-O]);this.apply(T(Math.round(e)),T(Math.round(O)),T(Math.round($(ce,1,o-1))),T(Math.round($(ue,1,u-1))))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=x({type:t,selectors:[["tui-hint"]],hostVars:5,hostBindings:function(n,o){n&1&&q("click",function(c){return o.onClick(c.target)},!1,Pt),n&2&&(X("@tuiFadeIn",o.options),It("data-appearance",o.appearance)("tuiTheme",o.appearance),xt("_untouchable",o.pointer))},standalone:!0,features:[h(Ce),A],ngContentSelectors:de,decls:2,vars:2,consts:[[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(n,o){n&1&&(Et(),St(0),C(1,fe,1,1,"span",0)),n&2&&(G(),f("polymorpheusOutlet",o.content)("polymorpheusOutletContext",o.hint.context))},dependencies:[L],styles:['[_nghost-%COMP%]{position:absolute;max-width:18rem;min-height:var(--tui-height-m);padding:.75rem 1rem;background:var(--tui-background-accent-1);border-radius:var(--tui-radius-l);color:var(--tui-text-primary-on-accent-1);box-sizing:border-box;font:var(--tui-font-text-s);white-space:pre-line;word-wrap:break-word;line-height:1.25rem}[_nghost-%COMP%]:before{content:"";position:absolute;top:var(--top);left:var(--left);width:.5rem;height:.5rem;border-radius:.125rem;box-sizing:border-box;background:inherit;transform:translate(-50%,-50%) rotate(45deg)}[data-appearance=error][_nghost-%COMP%]{background:var(--tui-status-negative)}[data-appearance=dark][_nghost-%COMP%]{background:var(--tui-background-accent-opposite-hover);color:var(--tui-background-base);filter:drop-shadow(0 0 .125rem rgba(0,0,0,.16)) drop-shadow(0 1.5rem 1rem rgba(0,0,0,.03)) drop-shadow(0 .75rem .75rem rgba(0,0,0,.04)) drop-shadow(0 .25rem .375rem rgba(0,0,0,.05))}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}'],data:{animation:[Ut]},changeDetection:0});let i=t;return ht([tt],i.prototype,"apply",null),i})(),di=(()=>{let t=class t extends nt{constructor(){super(e=>this.stream$.subscribe(e)),this.doc=s(Nt),this.el=m(),this.id$=new z(""),this.stream$=this.id$.pipe(F(),Kt(()=>gt(this.doc,"keydown",{capture:!0}),Zt),w(()=>this.focused?y(!1):b(g(this.doc,"keyup"),g(this.element,"blur")).pipe(l(()=>this.focused))),yt(e=>e?vt(1e3):y(null)),Ht(!1),F(),Dt(1),B(s(k))),this.type="hint"}set tuiHintDescribe(e){this.id$.next(e||"")}get element(){return this.doc.getElementById(this.id$.value||"")||this.el}get focused(){return ee(this.element)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=p({type:t,selectors:[["","tuiHintDescribe",""]],inputs:{tuiHintDescribe:"tuiHintDescribe"},standalone:!0,features:[h([S(t)]),D]});let i=t;return ht([tt],i.prototype,"element",null),i})();var fi=(()=>{let t=class t{constructor(){this.hints$=s(se),this.destroyRef=s(Mt),this.cdr=s(K),this.hints=[]}ngOnInit(){this.hints$.pipe(E(this.destroyRef)).subscribe(e=>{this.hints=e,this.cdr.detectChanges()})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=x({type:t,selectors:[["tui-hints"]],hostAttrs:["aria-live","polite"],standalone:!0,features:[A],decls:1,vars:1,consts:[["role","tooltip",3,"tuiActiveZoneParent",4,"ngFor","ngForOf"],["role","tooltip",3,"tuiActiveZoneParent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(n,o){n&1&&C(0,ve,2,6,"div",0),n&2&&f("ngForOf",o.hints)},dependencies:[Bt,pt,L],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;height:0}"],data:{animation:[Q]}});let i=t;return i})();export{Ee as a,li as b,lt as c,ae as d,Te as e,di as f,fi as g};
