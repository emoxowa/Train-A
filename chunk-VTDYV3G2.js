import{a as k}from"./chunk-GQC6GBTQ.js";import{Ca as O,Db as r,Eb as o,Fb as f,Jb as C,La as w,Ma as m,Mb as h,Na as u,Nb as c,Oc as P,Qc as I,Ua as b,Wb as l,Xb as v,Xc as y,Yb as _,db as s,fc as M,jc as S,tb as p,vb as d}from"./chunk-2XEAWUUP.js";var D=(i,a,e)=>({"selected-seat":i,"occupied-seat":a,"available-seat":e});function E(i,a){if(i&1){let e=C();r(0,"div",17),h("click",function(){let t=m(e).index,x=c().index,g=c();return u(g.onSeatClick(g.calculateSeatIndex(x,t,"L")))}),l(1),o()}if(i&2){let e=a.index,n=c().index,t=c();d("ngClass",S(2,D,t.calculateSeatIndex(n,e,"L")===t.selectedSeatIndex,t.isOccupiedSeat(t.calculateSeatIndex(n,e,"L")),!t.isOccupiedSeat(t.calculateSeatIndex(n,e,"L"))&&t.calculateSeatIndex(n,e,"L")!==t.selectedSeatIndex)),s(),_(" ",t.calculateSeatIndex(n,e,"L")," ")}}function R(i,a){if(i&1){let e=C();r(0,"div",17),h("click",function(){let t=m(e).index,x=c().index,g=c();return u(g.onSeatClick(g.calculateSeatIndex(x,t,"R")))}),l(1),o()}if(i&2){let e=a.index,n=c().index,t=c();d("ngClass",S(2,D,t.calculateSeatIndex(n,e,"R")===t.selectedSeatIndex,t.isOccupiedSeat(t.calculateSeatIndex(n,e,"R")),!t.isOccupiedSeat(t.calculateSeatIndex(n,e,"R"))&&t.calculateSeatIndex(n,e,"R")!==t.selectedSeatIndex)),s(),_(" ",t.calculateSeatIndex(n,e,"R")," ")}}function L(i,a){if(i&1&&(r(0,"div",13)(1,"div",14),p(2,E,2,6,"div",15),o(),r(3,"div",16),p(4,R,2,6,"div",15),o()()),i&2){let e=c();s(2),d("ngForOf",e.leftSeats),s(2),d("ngForOf",e.rightSeats)}}var F=class i{carriagesData;occupiedSeats=[];selectedSeatIndex=null;seatSelected=new b;rows=[];leftSeats=[];rightSeats=[];ngOnChanges(a){a.carriagesData&&this.carriagesData&&(this.rows=this.getRows(this.carriagesData.rows),this.leftSeats=this.getSeats(this.carriagesData.leftSeats),this.rightSeats=this.getSeats(this.carriagesData.rightSeats))}getRows(a){return Array.from({length:a},(n,t)=>t+1)}getSeats(a){return Array.from({length:a},(n,t)=>t+1)}calculateSeatIndex(a,e,n){let t=this.leftSeats.length+this.rightSeats.length;return n==="L"?a*t+e+1:a*t+this.leftSeats.length+e+1}onSeatClick(a){this.selectedSeatIndex=a,this.seatSelected.emit(a)}isOccupiedSeat(a){return this.occupiedSeats.includes(a)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-carriage"]],inputs:{carriagesData:"carriagesData",occupiedSeats:"occupiedSeats",selectedSeatIndex:"selectedSeatIndex"},outputs:{seatSelected:"seatSelected"},standalone:!0,features:[w,M],decls:16,vars:3,consts:[[1,"carriage"],[1,"carriage__header"],[1,"carriage__seats"],[1,"carriage__container"],[1,"carriage__enter"],["icon","@tui.fa.solid.mug-saucer"],["icon","@tui.fa.solid.person-walking-dashed-line-arrow-right"],["icon","@tui.fa.solid.trash",2,"align-self","flex-end"],["icon","@tui.fa.solid.restroom",2,"align-self","flex-end"],[1,"carriage__body"],["class","carriage__row",4,"ngFor","ngForOf"],[1,"carriage__restroom"],["icon","@tui.fa.solid.restroom"],[1,"carriage__row"],[1,"carriage__left-seats"],["class","carriage__seat",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"carriage__right-seats"],[1,"carriage__seat",3,"click","ngClass"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"span"),l(3),o(),r(4,"div",2),l(5),o()(),r(6,"div",3)(7,"div",4),f(8,"tui-icon",5)(9,"tui-icon",6)(10,"tui-icon",7)(11,"tui-icon",8),o(),r(12,"div",9),p(13,L,5,2,"div",10),o(),r(14,"div",11),f(15,"tui-icon",12),o()()()),e&2&&(s(3),v(n.carriagesData.name),s(2),_(" ",(n.leftSeats.length+n.rightSeats.length)*n.rows.length-n.occupiedSeats.length," seats "),s(8),d("ngForOf",n.rows))},dependencies:[k,y,P,I],styles:["[_ngcontent-%COMP%]:root{--auth-font-weight: 600;--auth-container-width: 300px;--auth-container-padding: 20px;--auth-form-flex-gap: 20px;--auth-input-padding: 10px 5px}.carriage[_ngcontent-%COMP%]{overflow-y:auto;display:flex;flex-direction:column;gap:10px;width:auto;margin:10px;padding:20px;border:1px solid rgba(0,0,0,.1);border-radius:5px}.carriage__header[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;width:100%}.carriage__header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.carriage__seats[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:5px 10px;border:1px solid rgba(0,0,0,.1);border-radius:10px}.carriage__container[_ngcontent-%COMP%]{display:grid;grid-template-columns:70px 1fr 40px;gap:10px;width:fit-content;padding:10px;border:1px solid gray;border-radius:10px}.carriage__enter[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;gap:10px}.carriage__body[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:20px}.carriage__row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:40px;align-items:center}.carriage__row[_ngcontent-%COMP%]:last-child{padding-right:20px;border-right:1px solid gray}.carriage__right-seats[_ngcontent-%COMP%], .carriage__left-seats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;padding-left:5px;border-left:1px solid gray}.carriage__seat[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center;width:20px;height:20px;padding:3px;font-size:10px;text-align:center;background-color:#e0e0e0;border-radius:3px}.carriage__seat.selected-seat[_ngcontent-%COMP%]{color:#fff;background-color:#ffb84d}.carriage__seat.occupied-seat[_ngcontent-%COMP%]{cursor:not-allowed;background-color:#e0e0e0}.carriage__seat.available-seat[_ngcontent-%COMP%]{color:#fff;background-color:#007bff}.carriage__seat[_ngcontent-%COMP%]:hover:not(.occupied-seat){filter:brightness(.9)}.carriage__restroom[_ngcontent-%COMP%]{margin:0 auto;padding:10px}tui-icon[_ngcontent-%COMP%]{color:gray}@media (min-width: 1024px) and (max-width: 1439px){.carriage[_ngcontent-%COMP%]{margin:0;padding:10px}.carriage__body[_ngcontent-%COMP%]{gap:10px}}@media (min-width: 768px) and (max-width: 1023px){.carriage[_ngcontent-%COMP%]{margin:0;padding:10px}.carriage__body[_ngcontent-%COMP%]{gap:10px}}@media (min-width: 425px) and (max-width: 767px){.carriage[_ngcontent-%COMP%]{margin:0;padding:10px}.carriage__body[_ngcontent-%COMP%]{gap:10px}.carriage__seat[_ngcontent-%COMP%]{width:15px;height:15px}.carriage__container[_ngcontent-%COMP%]{grid-template-columns:40px 1fr 25px;padding:5px}.carriage__restroom[_ngcontent-%COMP%]{padding:5px}.carriage__right-seats[_ngcontent-%COMP%], .carriage__left-seats[_ngcontent-%COMP%]{padding-left:5px}tui-icon[_ngcontent-%COMP%]{font-size:15px}}@media (min-width: 320px) and (max-width: 424px){.carriage[_ngcontent-%COMP%]{margin:0;padding:10px}.carriage__body[_ngcontent-%COMP%]{gap:10px}.carriage__seat[_ngcontent-%COMP%]{width:15px;height:15px}.carriage__container[_ngcontent-%COMP%]{grid-template-columns:40px 1fr 25px;padding:5px}.carriage__restroom[_ngcontent-%COMP%]{padding:5px}.carriage__right-seats[_ngcontent-%COMP%], .carriage__left-seats[_ngcontent-%COMP%]{padding-left:5px}tui-icon[_ngcontent-%COMP%]{font-size:15px}}"]})};export{F as a};
